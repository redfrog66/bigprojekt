<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather forecast</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="stylesheet.css" rel="stylesheet">
</head>

<body onload="loggedIn()">
    <a href="login.php">
        <button class="btn btn-custom-login text-center">
        ðŸ‘‹
        </button>
      </a>

    <h1 id="mainTitle">Hello, username!</h1>
    <h4 id="secondaryTitle">- customize your home page -</h4>

    <table class="customize">
        <tr>
            <td class="text">
                Umbrella recommendation:
            </td>
            <td>
                <label class="container">
                    <input type="checkbox" id="umbrellaSetter" onchange="umbrellaSetting()">
                     <div class="checkmark"></div>
                  </label>
            </td>            
        </tr>

        <tr>
            <td class="text" >
                Jacket recommendation from:
            </td>
            <td>
                <input oninput="tempsetting()" id="tempsetter" type="range" min="0" max="30" value="20"> 
                <label id="temptext" class="text">Â°C</label>
            </td>
        </tr>
    </table>


    <div class="weather-archive-back">
        <a href="index.html" style="text-decoration:none">
        <button class="button">
          <label width="24px" height="24px">ðŸ”™</label>
          <span class="lable">Home page</span>
        </button>
      </a>
    </div>

    </div>

</body>
 
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>
</html>
<script>
    function loggedIn(){
    if(localStorage.getItem("user")){
      console.log(localStorage.getItem("user"));
      document.getElementById("mainTitle").innerHTML=`Logged in as `+localStorage.getItem("user");
    }else{
      console.log("not logged in");
    }
  }
    function tempsetting(){
        let userForPref=localStorage.getItem("user");
        let val=document.getElementById("tempsetter").value;
        document.getElementById("temptext").innerHTML=val+" Â°C";
        localStorage.setItem("pref"+userForPref,val);
    }
    function umbrellaSetting(){
        let userUmbr=localStorage.getItem("user");
        let umVal=document.getElementById('umbrellaSetter').checked;
        
        localStorage.setItem("umb"+userUmbr,umVal);
    }

  </script>